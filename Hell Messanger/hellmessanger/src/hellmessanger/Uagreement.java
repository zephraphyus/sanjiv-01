package hellmessanger;

import java.sql.*;
import javax.swing.JOptionPane;
/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * Uagreement.java
 *
 * Created on 21 Nov, 2014, 10:32:56 AM
 */

/**
 *
 * @author student
 */
public class Uagreement extends javax.swing.JFrame {

    /** Creates new form Uagreement */
    String name,sec,pass;
    int clas,rno;
    public Uagreement() {
        initComponents();
      tamm.setVisible(false);
        taag.setEnabled(false);
    }
    public Uagreement(String nam,int cla,String se,int rn,String pas)
    {
      initComponents();
      tamm.setVisible(false);
      name=nam;
      clas=cla;
      sec=se;
      rno=rn;
      pass=pas;
      taag.setEnabled(false);
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        buttonGroup1 = new javax.swing.ButtonGroup();
        jScrollPane1 = new javax.swing.JScrollPane();
        taag = new javax.swing.JTextArea();
        optyes = new javax.swing.JRadioButton();
        optno = new javax.swing.JRadioButton();
        jButton1 = new javax.swing.JButton();
        jScrollPane2 = new javax.swing.JScrollPane();
        tamm = new javax.swing.JTextArea();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        jScrollPane1.setFont(new java.awt.Font("Viner Hand ITC", 3, 14)); // NOI18N

        taag.setColumns(20);
        taag.setEditable(false);
        taag.setFont(new java.awt.Font("Elephant", 0, 12));
        taag.setRows(5);
        taag.setText("Comodo Dragon End User License Agreement\n\nCopyright\n\nThe Products contains material that is protected by United States and foreign intellectual property laws, including copyright, trade secret, and patent law.  All rights not granted to you herein are expressly reserved by Comodo. You may not remove any copyright or other proprietary notice of Comodo from the Products.\n\nThe Comodo Dragon browser developed by Comodo Security Solutions, Inc. is based on the Chromium software code developed by Google.  The Comodo Dragon browser is licensed under the Comodo Dragon End User License Agreement (Agreement).  Other software included in this distribution is provided under other licenses, as listed in the Included Software and Licenses section at the bottom of this page.\n\n1. License\n1.1.        Grant of License.  Comodo grants you a limited, non-exclusive, non-transferable, and revocable license to download, install, back-up, and use the Software and Services (collectively, the “Products”), including any documentation and files accompanying the Products.  You shall not resell, lease, sell, modify, reverse engineer, decompile, or create derivative works of the Software.  All rights not expressly granted herein are reserved to Comodo.  \n1.2.       Restrictions. The licenses granted herein are only valid if:\n(i) the Products are NOT modified in any manner;\n(ii) the Products are only installed and used in accordance with your network security policies,\n(iii) you posses the necessary authority and power to install and use the Products,\n(iv) you promptly pay any license fees when due, and\n(v) this agreement is accepted without modification and has not been breached.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND\n CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF \nMERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE \nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR \nCONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,\n BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR \nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR \nTORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN \nANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED \nOF THE POSSIBILITY OF SUCH DAMAGE.\n\n");
        jScrollPane1.setViewportView(taag);

        buttonGroup1.add(optyes);
        optyes.setText("I agreed with all your terms and conditions ");

        buttonGroup1.add(optno);
        optno.setSelected(true);
        optno.setText("No i will not like to proceed");

        jButton1.setText("ok");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        tamm.setColumns(20);
        tamm.setRows(5);
        tamm.setText("Congratulations,,\nyou are now a part of the most\ninnovative and easy messaging \nservice provided from us for\nthe school.  \"THANK YOU\"");
        jScrollPane2.setViewportView(tamm);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                        .addComponent(optno, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(optyes, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 313, Short.MAX_VALUE))
                    .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 305, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 225, Short.MAX_VALUE)
                .addContainerGap())
            .addGroup(layout.createSequentialGroup()
                .addGap(26, 26, 26)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 523, Short.MAX_VALUE)
                .addGap(27, 27, 27))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(22, 22, 22)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 302, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(41, 41, 41)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(optyes)
                        .addGap(18, 18, 18)
                        .addComponent(optno)
                        .addGap(33, 33, 33)
                        .addComponent(jButton1))
                    .addComponent(jScrollPane2))
                .addContainerGap(27, Short.MAX_VALUE))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        String mm=tamm.getText();
        int messageid,user;
        if(optyes.isSelected())
        {
            try
        {
             Class.forName("java.sql.Driver");
             Connection con=DriverManager.getConnection("jdbc:mysql://localhost:3306/yochat","root","mysql");
             Statement stmt=con.createStatement();
             String x="SELECT * FROM REGIST";
             ResultSet rs=stmt.executeQuery(x);
             if(rs.last())
               user=rs.getInt("userid")+1;
             else
                 user=1;
             String quer = "INSERT INTO REGIST VALUES("+user+",'"+name+"',"+clas+",'"+sec+"',"+rno+",'"+pass+"')";
             stmt.executeUpdate(quer);
             JOptionPane.showMessageDialog(this,"Congratulations you are registered");
             String yoyo="SELECT * FROM MESSAG";
             ResultSet rss=stmt.executeQuery(yoyo);
             if(rss.last())
             messageid=rss.getInt("messageid")+1;
             else
             messageid=1;
             String hahaha="INSERT INTO MESSAG VALUES("+messageid+","+1+","+user+",'"+mm+"','unseen')";
             stmt.executeUpdate(hahaha);
             Uhome gg=new Uhome(user);
             gg.setVisible(true);
             this.setVisible(false);
        }
        catch(Exception f)
        {
               JOptionPane.showMessageDialog(this,f.getMessage());
        }
        }
        else
        {
            JOptionPane.showMessageDialog(this,"Thank you");
            System.exit(0);
        }
    }//GEN-LAST:event_jButton1ActionPerformed

    /**
    * @param args the command line arguments
    */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Uagreement().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.ButtonGroup buttonGroup1;
    private javax.swing.JButton jButton1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JRadioButton optno;
    private javax.swing.JRadioButton optyes;
    private javax.swing.JTextArea taag;
    private javax.swing.JTextArea tamm;
    // End of variables declaration//GEN-END:variables

}
